<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>S·ªï L∆∞u Gi·ªØ K·ª∑ Ni·ªám</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Quicksand:wght@400;600&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent-pink: #ff80ab;
            --paper-color: #fffafb;
            --speed: 0.8s;
            --book-w: 500px;
            --book-h: 700px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            width: 100%; height: 100%;
            overflow: hidden;
            background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
            font-family: 'Quicksand', sans-serif;
        }

        /* --- M√ÄN H√åNH C·∫¢NH B√ÅO (QUAN TR·ªåNG) --- */
        #rotate-warning {
            display: none; /* JS s·∫Ω b·∫≠t c√°i n√†y l√™n */
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: #222; 
            z-index: 9999;
            flex-direction: column; justify-content: center; align-items: center;
            color: white; text-align: center;
        }
        .phone-icon {
            width: 50px; height: 90px;
            border: 3px solid white; border-radius: 8px;
            position: relative; margin-bottom: 20px;
            animation: rotatePhone 2s infinite ease-in-out;
        }
        .phone-icon::before {
            content: ''; position: absolute; top: 5px; left: 50%;
            transform: translateX(-50%); width: 15px; height: 3px;
            background: white; border-radius: 5px;
        }
        @keyframes rotatePhone {
            0%, 20% { transform: rotate(0deg); }
            80%, 100% { transform: rotate(-90deg); }
        }

        /* --- CONTAINER CH√çNH --- */
        .main-content {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%); /* CƒÉn gi·ªØa */
            width: var(--book-w);
            height: var(--book-h);
            transition: opacity 0.3s, transform 0.3s; /* Hi·ªáu ·ª©ng m∆∞·ª£t */
        }

        /* Khi m√†n h√¨nh d·ªçc, ·∫©n n·ªôi dung ch√≠nh ƒëi */
        .portrait-mode .main-content {
            opacity: 0;
            pointer-events: none;
        }
        /* Khi m√†n h√¨nh d·ªçc, hi·ªán c·∫£nh b√°o */
        .portrait-mode #rotate-warning {
            display: flex !important;
        }

        /* --- S√ÅCH --- */
        .book-container {
            position: relative; width: 100%; height: 100%;
            perspective: 3000px;
        }
        .book {
            position: relative; width: 100%; height: 100%;
            transform-style: preserve-3d;
            transition: transform var(--speed);
        }
        .page {
            position: absolute; width: 100%; height: 100%;
            top: 0; left: 0; transform-origin: left;
            transform-style: preserve-3d;
            transition: transform var(--speed) cubic-bezier(0.645, 0.045, 0.355, 1);
            background-color: white;
            user-select: none;
        }
        .front, .back {
            position: absolute; width: 100%; height: 100%; padding: 15px;
            backface-visibility: hidden; background: var(--paper-color);
            border: 1px solid #ffc1e3; border-radius: 0 15px 15px 0;
            overflow: hidden;
        }
        .back { 
            transform: rotateY(180deg); border-radius: 15px 0 0 15px;
            background-image: radial-gradient(#ddd 1px, transparent 1px); background-size: 20px 20px;
        }
        .page.flipped { transform: rotateY(-180deg); }

        /* --- N·ªòI DUNG B√äN TRONG --- */
        .note-container {
            height: 100%; display: flex; flex-direction: column; justify-content: center;
            border: 2px dashed var(--accent-pink); padding: 10px;
            border-radius: 10px; background: rgba(255,255,255,0.95);
        }
        .note-title { font-family: 'Pacifico'; color: var(--accent-pink); font-size: 1.8rem; text-align: center; margin-bottom: 10px; }
        .note-text { font-family: 'Dancing Script'; font-size: 1.4rem; color: #444; text-align: justify; line-height: 1.3; }

        .pic {
            position: absolute; background: #fff; padding: 5px 5px 20px 5px;
            box-shadow: 1px 2px 6px rgba(0,0,0,0.2); width: 120px; border: 1px solid #eee;
        }
        .pic img { width: 100%; height: 100px; object-fit: cover; display: block; }
        .pic.big { width: 200px; padding-bottom: 30px; }
        .pic.big img { height: 160px; }
        
        .cover { background: var(--accent-pink); color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .deco { display: flex; flex-direction: column; align-items: center; justify-content: center; color: #ff80ab; text-align: center; }

        /* N√∫t nh·∫°c */
        .music-control {
            position: fixed; bottom: 20px; right: 20px; z-index: 2000;
            background: rgba(255, 255, 255, 0.9); width: 45px; height: 45px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center; font-size: 20px;
            cursor: pointer; border: 2px solid var(--accent-pink);
        }
        .music-control.playing { animation: spin 4s linear infinite; background: var(--accent-pink); color: white; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <!-- M√ÄN H√åNH ƒêEN C·∫¢NH B√ÅO -->
    <div id="rotate-warning">
        <div class="phone-icon"></div>
        <p style="font-size: 1.2rem; padding: 0 20px;">Vui l√≤ng xoay ngang ƒëi·ªán tho·∫°i<br>ƒë·ªÉ xem s·ªï k·ª∑ ni·ªám nh√©! ‚ù§Ô∏è</p>
    </div>

    <div class="music-control" id="musicBtn" onclick="toggleMusic()">üéµ</div>
    <audio id="bg-music" loop><source src="music.mp3" type="audio/mpeg"></audio>

    <!-- WRAPPER CH√çNH -->
    <div class="main-content" id="mainContent">
        <div class="book-container">
            <div class="book" id="book">
                
                <!-- TRANG 1: B√åA -->
                <div class="page">
                    <div class="front cover">
                        <h1 style="font-family:'Pacifico'; font-size:3.5rem;">S·ªï L∆∞u Gi·ªØ</h1>
                        <p style="font-size:1.2rem;">M·ªôt ch·∫∑ng ƒë∆∞·ªùng ƒë√°ng nh·ªõ</p>
                        <p style="margin-top:20px; border:1px solid white; padding:5px 15px; border-radius:20px; font-size:0.9rem;">Ch·∫°m ƒë·ªÉ m·ªü</p>
                    </div>
                    <div class="back">
                        <div class="note-container">
                            <h2 class="note-title">L·ªùi M·ªü ƒê·∫ßu</h2>
                            <p class="note-text">Nhanh th·∫≠t, ch∆∞a g√¨ ƒë√£ tr√¥i qua h∆°n 3 th√°ng...<br><br>Cu·ªën s√°ch n√†y ch·ª©a ƒë·ª±ng nh·ªØng s·ª± ki·ªán tuy·ªát v·ªùi nh·∫•t!</p>
                        </div>
                    </div>
                </div>

                <!-- TRANG 2: CHAPTER 1 -->
                <div class="page">
                    <div class="front deco">
                        <h2 style="font-family:'Dancing Script'; font-size:3.5rem;">~ Chapter 1 ~</h2>
                        <p style="margin-top:20px;">H√†nh tr√¨nh b·∫Øt ƒë·∫ßu...</p>
                        <div style="font-size:4rem; margin-top:20px;">‚ú®</div>
                    </div>
                    <div class="back deco">
                        <h2 style="font-family:'Pacifico'; font-size:2.5rem; color:#777;">Kho·∫£nh kh·∫Øc</h2>
                    </div>
                </div>

                <!-- TRANG 3: NH·∫¨N L·ªöP -->
                <div class="page">
                    <div class="front">
                        <div class="pic" style="top:20px; left:20px; transform:rotate(-15deg);"><img src="img/lop3.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh1'" alt="1"></div>
                        <div class="pic" style="top:30px; left:180px; transform:rotate(5deg);"><img src="img/ao2.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh2'" alt="2"></div>
                        <div class="pic" style="top:20px; left:340px; transform:rotate(-10deg);"><img src="img/tthu3.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh3'" alt="3"></div>
                        <div class="pic" style="top:230px; left:40px; transform:rotate(10deg);"><img src="img/201.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh4'" alt="4"></div>
                        <div class="pic" style="top:210px; left:200px; transform:rotate(-5deg); z-index:5;"><img src="img/204.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh5'" alt="5"></div>
                        <div class="pic" style="top:230px; left:350px; transform:rotate(8deg);"><img src="img/vn5.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh6'" alt="6"></div>
                        <div class="pic" style="top:440px; left:30px; transform:rotate(-12deg);"><img src="img/dbanh1.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh7'" alt="7"></div>
                        <div class="pic" style="top:460px; left:190px; transform:rotate(5deg);"><img src="img/hc1.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh8'" alt="8"></div>
                        <div class="pic" style="top:440px; left:340px; transform:rotate(15deg);"><img src="img/dc8.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh9'" alt="9"></div>
                    </div>
                    <div class="back">
                        <div class="note-container">
                            <h2 class="note-title">Nh·∫≠n L·ªõp</h2>
                            <p class="note-text">Ng√†y ƒë·∫ßu ti√™n nh√¨n ai c≈©ng hi·ªÅn l√†nh. Ai ng·ªù sau n√†y to√†n l√† "b√°o". √Åo m·ªõi ai c≈©ng khen ƒë·∫πp!</p>
                        </div>
                    </div>
                </div>

                <!-- TRANG 4: L·ªöP & TRUNG THU -->
                <div class="page">
                    <div class="front">
                        <div class="pic" style="top:30px; left:30px; transform:rotate(10deg);"><img src="img/lop1jpg.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh10'" alt="i"></div>
                        <div class="pic" style="top:50px; left:280px; transform:rotate(-5deg);"><img src="img/lop2.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh11'" alt="i"></div>
                        <div class="pic" style="top:220px; left:150px; transform:rotate(2deg); z-index:10;"><img src="img/lop3.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh12'" alt="i"></div>
                        <div class="pic" style="top:350px; left:20px; transform:rotate(-15deg);"><img src="img/ao1.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh13'" alt="i"></div>
                        <div class="pic" style="top:360px; left:300px; transform:rotate(12deg);"><img src="img/ao2.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh14'" alt="i"></div>
                        <div class="pic" style="top:500px; left:140px; transform:rotate(-3deg);"><img src="img/ao3.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh15'" alt="i"></div>
                    </div>
                    <div class="back">
                        <div class="note-container">
                            <h2 class="note-title">Trung Thu</h2>
                            <p class="note-text">L√†m ƒë∆°n gi·∫£n nh∆∞ng m√† v·∫´n "nh·∫•t". Vui l√† ch√≠nh!</p>
                        </div>
                    </div>
                </div>

                <!-- TRANG 5: TRUNG THU BIG -->
                <div class="page">
                    <div class="front">
                        <div class="pic big" style="top:40px; left:40px; transform:rotate(-12deg);"><img src="img/tthu1.jpg" onerror="this.src='https://placehold.co/200x160?text=TThu1'" alt="i"></div>
                        <div class="pic big" style="top:250px; left:260px; transform:rotate(8deg);"><img src="img/tthu2.jpg" onerror="this.src='https://placehold.co/200x160?text=TThu2'" alt="i"></div>
                        <div class="pic big" style="top:480px; left:60px; transform:rotate(-5deg);"><img src="img/tthu3.jpg" onerror="this.src='https://placehold.co/200x160?text=TThu3'" alt="i"></div>
                    </div>
                    <div class="back">
                        <div class="note-container">
                            <h2 class="note-title">VƒÉn Ngh·ªá</h2>
                            <p class="note-text">T·∫≠p nh·∫£y sai l√™n sai xu·ªëng, th·∫ø m√† l√∫c l√™n s√¢n kh·∫•u l·∫°i ƒë·ªÅu tƒÉm t·∫Øp.</p>
                        </div>
                    </div>
                </div>

                <!-- TRANG 6: B√ìNG ƒê√Å -->
                <div class="page">
                    <div class="front">
                        <div class="pic" style="top:20px; left:40px; transform:rotate(-10deg);"><img src="img/201.jpg" onerror="this.src='https://placehold.co/100x110?text=BD1'" alt="i"></div>
                        <div class="pic" style="top:40px; left:260px; transform:rotate(8deg);"><img src="img/202.jpg" onerror="this.src='https://placehold.co/100x110?text=BD2'" alt="i"></div>
                        <div class="pic" style="top:200px; left:150px; transform:rotate(-3deg);"><img src="img/203.jpg" onerror="this.src='https://placehold.co/100x110?text=BD3'" alt="i"></div>
                        <div class="pic" style="top:350px; left:20px; transform:rotate(12deg);"><img src="img/vn1.jpg" onerror="this.src='https://placehold.co/100x110?text=BD4'" alt="i"></div>
                        <div class="pic" style="top:380px; left:280px; transform:rotate(-15deg);"><img src="img/204.jpg" onerror="this.src='https://placehold.co/100x110?text=BD5'" alt="i"></div>
                        <div class="pic" style="top:520px; left:140px; transform:rotate(5deg);"><img src="img/vn3.jpg" onerror="this.src='https://placehold.co/100x110?text=BD6'" alt="i"></div>
                    </div>
                    <div class="back">
                        <div class="note-container">
                            <h2 class="note-title">B√≥ng ƒê√°</h2>
                            <p class="note-text">ƒê·ªôi c·ªï v≈© c√≤n sung h∆°n c·∫£ c·∫ßu th·ªß! Tinh th·∫ßn l√† tr√™n h·∫øt.</p>
                        </div>
                    </div>
                </div>

                <!-- TRANG 7: B√ìNG ƒê√Å BIG -->
                <div class="page">
                    <div class="front">
                        <div class="pic big" style="top:40px; left:30px; transform:rotate(10deg);"><img src="img/dbanh1.jpg" onerror="this.src='https://placehold.co/200x160?text=BDBig1'" alt="i"></div>
                        <div class="pic big" style="top:260px; left:250px; transform:rotate(-8deg);"><img src="img/dbanh2.jpg" onerror="this.src='https://placehold.co/200x160?text=BDBig2'" alt="i"></div>
                        <div class="pic big" style="top:500px; left:50px; transform:rotate(5deg);"><img src="img/dbanh3.jpg" onerror="this.src='https://placehold.co/200x160?text=BDBig3'" alt="i"></div>
                    </div>
                    <div class="back">
                        <div class="note-container">
                            <h2 class="note-title">Huy Ch∆∞∆°ng</h2>
                            <p class="note-text">Th·ªùi gian m√† c·∫£ l·ªõp "sƒ©" nh·∫•t. ƒêi ƒë√¢u c≈©ng khoe.</p>
                        </div>
                    </div>
                </div>

                <!-- TRANG 8: HUY CH∆Ø∆†NG -->
                <div class="page">
                    <div class="front">
                        <div class="pic big" style="top:40px; left:30px; transform:rotate(-10deg);"><img src="img/hc1.jpg" onerror="this.src='https://placehold.co/200x160?text=HC1'" alt="i"></div>
                        <div class="pic big" style="top:260px; left:250px; transform:rotate(5deg);"><img src="img/hc2.jpg" onerror="this.src='https://placehold.co/200x160?text=HC2'" alt="i"></div>
                        <div class="pic big" style="top:480px; left:60px; transform:rotate(-5deg);"><img src="img/hc3.jpg" onerror="this.src='https://placehold.co/200x160?text=HC3'" alt="i"></div>
                    </div>
                    <div class="back">
                        <div class="note-container">
                            <h2 class="note-title">ƒêi Ch∆°ii</h2>
                            <p class="note-text">L√™n xe ng·ªß h·∫øt. Nh∆∞ng t·ªõi n∆°i th√¨ qu·∫©y banh n√≥c.</p>
                        </div>
                    </div>
                </div>

                <!-- TRANG 9: ƒêI CH∆†I -->
                <div class="page">
                    <div class="front">
                        <div class="pic" style="top:20px; left:20px; transform:rotate(-15deg);"><img src="img/dc1.jpg" onerror="this.src='https://placehold.co/100x110?text=DC1'" alt="i"></div>
                        <div class="pic" style="top:10px; left:180px; transform:rotate(5deg);"><img src="img/dc2.jpg" onerror="this.src='https://placehold.co/100x110?text=DC2'" alt="i"></div>
                        <div class="pic" style="top:30px; left:330px; transform:rotate(-5deg);"><img src="img/dc3.jpg" onerror="this.src='https://placehold.co/100x110?text=DC3'" alt="i"></div>
                        <div class="pic" style="top:200px; left:40px; transform:rotate(10deg);"><img src="img/dc4.jpg" onerror="this.src='https://placehold.co/100x110?text=DC4'" alt="i"></div>
                        <div class="pic" style="top:220px; left:200px; transform:rotate(-8deg); z-index: 5;"><img src="img/dc5.jpg" onerror="this.src='https://placehold.co/100x110?text=DC5'" alt="i"></div>
                        <div class="pic" style="top:190px; left:340px; transform:rotate(12deg);"><img src="img/dc6.jpg" onerror="this.src='https://placehold.co/100x110?text=DC6'" alt="i"></div>
                        <div class="pic" style="top:400px; left:100px; transform:rotate(-5deg);"><img src="img/dc7.jpg" onerror="this.src='https://placehold.co/100x110?text=DC7'" alt="i"></div>
                    </div>
                    <div class="back">
                        <div class="note-container">
                            <h2 class="note-title">Happy Birthday</h2>
                            <p class="note-text">Tuy tr·ªÖ h·∫πn 3 h√¥m, nh∆∞ng "ƒë·ªô n√≥ng" kh√¥ng h·ªÅ gi·∫£m. Y√™u c√¥ nhi·ªÅu! ‚ù§Ô∏è</p>
                        </div>
                    </div>
                </div>

                <!-- TRANG 10: SINH NH·∫¨T -->
                <div class="page">
                    <div class="front">
                        <h3 style="position:absolute; bottom:15px; right:20px; font-family:'Dancing Script'; font-size:1.5rem; color:#ff4081;">We Love You ‚ù§Ô∏è</h3>
                        <div class="pic" style="top:30px; left:30px; transform:rotate(8deg);"><img src="img/snhat1.jpg" onerror="this.src='https://placehold.co/100x110?text=SN1'" alt="i"></div>
                        <div class="pic" style="top:40px; left:290px; transform:rotate(-6deg);"><img src="img/snhat.jpg" onerror="this.src='https://placehold.co/100x110?text=SN2'" alt="i"></div>
                        <div class="pic big" style="top:200px; left:140px; transform:rotate(2deg); z-index:10;"><img src="img/snhat 2.jpg" onerror="this.src='https://placehold.co/200x160?text=CoGiao'" alt="i"></div>
                        <div class="pic" style="top:450px; left:50px; transform:rotate(-10deg);"><img src="img/snhat3.jpg" onerror="this.src='https://placehold.co/100x110?text=SN3'" alt="i"></div>
                        <div class="pic" style="top:460px; left:300px; transform:rotate(12deg);"><img src="img/snhat4.jpg" onerror="this.src='https://placehold.co/100x110?text=SN4'" alt="i"></div>
                    </div>
                    <div class="back cover">
                        <h1 style="font-family:'Pacifico'; font-size:3.5rem;">The End</h1>
                        <p style="padding:0 20px; font-size:1.1rem; margin-top:10px;">D·ª´ng l·∫°i kh√¥ng ph·∫£i k·∫øt th√∫c.<br>N√≥ m·ªü ra m·ªôt h√†nh tr√¨nh m·ªõi!</p>
                    </div>
                </div>

            </div>
        </div>
    </div>

<script>
    // --- JS KI·ªÇM TRA XOAY M√ÄN H√åNH (M·∫†NH H∆†N CSS) ---
    function checkOrientation() {
        const warning = document.getElementById('rotate-warning');
        const body = document.body;
        
        // N·∫øu chi·ªÅu cao l·ªõn h∆°n chi·ªÅu r·ªông -> ƒêang ƒë·ªÉ d·ªçc (Portrait)
        if (window.innerHeight > window.innerWidth) {
            body.classList.add('portrait-mode');
        } else {
            // ƒêang ƒë·ªÉ ngang (Landscape) -> Hi·ªán s√°ch, ·∫©n c·∫£nh b√°o
            body.classList.remove('portrait-mode');
            resizeBook(); // T√≠nh to√°n l·∫°i k√≠ch th∆∞·ªõc s√°ch
        }
    }

    // --- JS T·ª∞ ƒê·ªòNG THU PH√ìNG S√ÅCH ---
    function resizeBook() {
        if (document.body.classList.contains('portrait-mode')) return; // ƒêang d·ªçc th√¨ kh√¥ng c·∫ßn t√≠nh

        const bookW = 500; 
        const bookH = 700;
        const windowW = window.innerWidth;
        const windowH = window.innerHeight;
        const padding = 20;

        // T√≠nh t·ª∑ l·ªá thu nh·ªè ƒë·ªÉ v·ª´a m√†n h√¨nh
        let scale = Math.min(
            (windowW - padding) / bookW, 
            (windowH - padding) / bookH
        );
        if (scale > 1) scale = 1; // Kh√¥ng ph√≥ng to qu√° m·ª©c

        const content = document.getElementById('mainContent');
        content.style.transform = `translate(-50%, -50%) scale(${scale})`;
    }

    // L·∫Øng nghe s·ª± ki·ªán xoay ho·∫∑c thay ƒë·ªïi k√≠ch th∆∞·ªõc
    window.addEventListener('load', () => { checkOrientation(); });
    window.addEventListener('resize', () => { checkOrientation(); });
    
    // --- X·ª¨ L√ù NH·∫†C ---
    const music = document.getElementById('bg-music');
    const musicBtn = document.getElementById('musicBtn');
    let isPlaying = false;

    function toggleMusic() {
        if (isPlaying) {
            music.pause();
            musicBtn.classList.remove('playing');
        } else {
            music.play();
            musicBtn.classList.add('playing');
        }
        isPlaying = !isPlaying;
    }

    document.body.addEventListener('click', () => {
        if (!isPlaying) {
            music.play().then(() => {
                isPlaying = true;
                musicBtn.classList.add('playing');
            }).catch(() => {});
        }
    }, { once: true });

    // --- X·ª¨ L√ù L·∫¨T TRANG ---
    const book = document.querySelector("#book");
    const pages = document.querySelectorAll(".page");
    const totalPages = pages.length;

    pages.forEach((page, index) => {
        page.style.zIndex = totalPages - index;
        page.addEventListener("click", function() {
            if (!this.classList.contains("flipped")) {
                this.classList.add("flipped");
                this.style.zIndex = index + 1;
                if (index === 0) book.style.transform = "translateX(50%)";
                if (index === totalPages - 1) book.style.transform = "translateX(100%)";
            } else {
                this.classList.remove("flipped");
                setTimeout(() => { this.style.zIndex = totalPages - index; }, 300);
                if (index === 0) book.style.transform = "translateX(0%)";
                if (index === totalPages - 1) book.style.transform = "translateX(50%)";
            }
        });
    });
</script>
</body>
</html>
