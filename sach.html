<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>S·ªï L∆∞u Gi·ªØ K·ª∑ Ni·ªám</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Quicksand:wght@400;600&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent-pink: #ff80ab;
            --paper-color: #fffafb;
            --speed: 0.8s;
            --book-w: 500px;
            --book-h: 700px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
            font-family: 'Quicksand', sans-serif;
            overflow: hidden;
            /* NgƒÉn user zoom tr√™n mobile ƒë·ªÉ tr·∫£i nghi·ªám app t·ªët h∆°n */
            touch-action: manipulation; 
        }

        /* --- M√ÄN H√åNH Y√äU C·∫¶U XOAY NGANG --- */
        #rotate-warning {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: #222;
            z-index: 9999;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
        }

        .phone-icon {
            width: 60px;
            height: 100px;
            border: 3px solid white;
            border-radius: 8px;
            position: relative;
            margin-bottom: 20px;
            animation: rotatePhone 1.5s infinite ease-in-out;
        }

        .phone-icon::before {
            content: '';
            position: absolute;
            top: 5px; left: 50%;
            transform: translateX(-50%);
            width: 20px; height: 3px;
            background: white;
            border-radius: 5px;
        }

        @keyframes rotatePhone {
            0%, 25% { transform: rotate(0deg); }
            75%, 100% { transform: rotate(-90deg); }
        }

        /* Logic hi·ªÉn th·ªã c·∫£nh b√°o: Ch·ªâ hi·ªán tr√™n thi·∫øt b·ªã nh·ªè V√Ä ƒëang ƒë·ªÉ d·ªçc */
        @media only screen and (max-width: 850px) and (orientation: portrait) {
            #rotate-warning { display: flex; }
            .book-container, .music-control { display: none !important; }
        }

        /* --- N√öT NH·∫†C --- */
        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            width: 50px; height: 50px;
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 24px; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            border: 2px solid var(--accent-pink);
            user-select: none;
        }
        .music-control.playing { animation: spin 4s linear infinite; background: var(--accent-pink); color: white; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* --- FLIPBOOK CONTAINER --- */
        .book-container {
            position: relative;
            width: var(--book-w);
            height: var(--book-h);
            perspective: 3000px;
            /* Transition m∆∞·ª£t khi resize m√†n h√¨nh */
            transition: transform 0.5s ease; 
        }

        /* --- RESPONSIVE SCALE (QUAN TR·ªåNG) --- */
        /* Laptop nh·ªè */
        @media (max-width: 1200px) { .book-container { transform: scale(0.85); } }
        /* iPad / Tablet */
        @media (max-width: 900px) { .book-container { transform: scale(0.7); } }
        
        /* Mobile Landscape (ƒêi·ªán tho·∫°i xoay ngang) */
        /* Chi·ªÅu cao m√†n h√¨nh < 600px th√¨ thu nh·ªè s√°ch c·ª±c m·∫°nh */
        @media (max-height: 600px) and (orientation: landscape) { 
            .book-container { transform: scale(0.45); } 
            /* Ch·ªânh l·∫°i v·ªã tr√≠ ·∫£nh m·ªôt ch√∫t cho m√†n h√¨nh nh·ªè n·∫øu c·∫ßn */
            .pic { box-shadow: 1px 2px 5px rgba(0,0,0,0.2); }
        }
        
        /* M√†n h√¨nh si√™u nh·ªè (iPhone SE c≈©...) */
        @media (max-height: 400px) and (orientation: landscape) { 
            .book-container { transform: scale(0.38); } 
        }

        /* --- C·∫§U TR√öC S√ÅCH --- */
        .book {
            position: relative;
            width: 100%; height: 100%;
            transform-style: preserve-3d;
            transition: transform var(--speed);
        }

        .page {
            position: absolute;
            width: 100%; height: 100%;
            top: 0; left: 0;
            transform-origin: left;
            transform-style: preserve-3d;
            transition: transform var(--speed) cubic-bezier(0.645, 0.045, 0.355, 1);
            cursor: pointer;
            background-color: white;
            user-select: none; /* NgƒÉn b√¥i ƒëen vƒÉn b·∫£n khi click nhanh */
        }

        .front, .back {
            position: absolute;
            width: 100%; height: 100%;
            padding: 20px; /* Gi·∫£m padding m·ªôt ch√∫t ƒë·ªÉ n·ªôi dung tho√°ng h∆°n */
            backface-visibility: hidden;
            background: var(--paper-color);
            border: 1px solid #f8bbd0;
            box-shadow: inset 5px 0 30px rgba(0,0,0,0.05);
            border-radius: 0 15px 15px 0;
            overflow: hidden; /* ƒê·∫£m b·∫£o n·ªôi dung kh√¥ng tr√†n ra ngo√†i trang */
        }

        .back { 
            transform: rotateY(180deg); 
            border-radius: 15px 0 0 15px;
            background-image: radial-gradient(#ddd 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .page.flipped { transform: rotateY(-180deg); }

        /* --- N·ªòI DUNG B√äN TRONG --- */
        .note-container {
            height: 100%;
            display: flex; flex-direction: column; justify-content: center;
            border: 2px dashed var(--accent-pink);
            padding: 15px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.95);
        }

        .note-title {
            font-family: 'Pacifico', cursive;
            color: var(--accent-pink);
            font-size: 2rem;
            margin-bottom: 15px;
            text-align: center;
        }

        .note-text {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            line-height: 1.5;
            color: #555;
            text-align: justify;
        }

        /* --- ·∫¢NH POLAROID --- */
        .pic {
            position: absolute;
            background: white;
            padding: 6px 6px 20px 6px; 
            box-shadow: 2px 3px 10px rgba(0,0,0,0.15);
            width: 130px; 
            transition: transform 0.3s, z-index 0s;
            border: 1px solid #eee;
        }
        .pic img { width: 100%; height: 110px; object-fit: cover; pointer-events: none; }
        
        .pic.big { width: 220px; padding-bottom: 30px; }
        .pic.big img { height: 180px; }

        .pic:hover { 
            transform: scale(1.1) rotate(0deg) !important;
            z-index: 999 !important; 
            box-shadow: 5px 10px 25px rgba(0,0,0,0.3);
            border: 1px solid var(--accent-pink);
        }

        /* --- C√ÅC STYLE KH√ÅC --- */
        .cover { 
            background: var(--accent-pink) !important; 
            color: white; 
            display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;
        }
        .decoration-page {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; color: #ff80ab;
        }
    </style>
</head>
<body>

<!-- C·∫¢NH B√ÅO XOAY M√ÄN H√åNH -->
<div id="rotate-warning">
    <div class="phone-icon"></div>
    <p class="warning-text">Vui l√≤ng xoay ngang ƒëi·ªán tho·∫°i<br>ƒë·ªÉ m·ªü cu·ªën s·ªï k·ª∑ ni·ªám n√†y nh√©! ‚ù§Ô∏è</p>
</div>

<audio id="bg-music" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="music-control" id="musicBtn" onclick="toggleMusic()" title="B·∫≠t/T·∫Øt nh·∫°c">üéµ</div>

<div class="book-container">
    <div class="book" id="book">
        
        <!-- TRANG 1: B√åA -->
        <div class="page">
            <div class="front cover">
                <h1 style="font-family: 'Pacifico'; font-size: 3.5rem;">S·ªï L∆∞u Gi·ªØ</h1>
                <p style="font-size: 1.2rem; margin-top: 10px;">M·ªôt ch·∫∑ng ƒë∆∞·ªùng - M·ªôt k·ª∑ ni·ªám</p>
                <p style="margin-top:30px; font-size: 0.9rem; border: 1px solid white; padding: 5px 15px; border-radius: 20px;">Ch·∫°m ƒë·ªÉ m·ªü</p>
            </div>
            <div class="back">
                <div class="note-container">
                    <h2 class="note-title">L·ªùi M·ªü ƒê·∫ßu</h2>
                    <p class="note-text">
                        Nhanh th·∫≠t, ch∆∞a g√¨ ƒë√£ tr√¥i qua h∆°n 3 th√°ng...<br><br>
                        Cu·ªën s√°ch n√†y ch·ª©a ƒë·ª±ng nh·ªØng s·ª± ki·ªán ƒë√°ng nh·ªõ nh·∫•t!
                    </p>
                </div>
            </div>
        </div>

        <!-- TRANG 2: CHAPTER 1 -->
        <div class="page">
            <div class="front decoration-page">
                <h2 style="font-family: 'Dancing Script'; font-size: 3.5rem;">~ Chapter 1 ~</h2>
                <p style="margin-top: 20px; font-size: 1.2rem;">H√†nh tr√¨nh b·∫Øt ƒë·∫ßu...</p>
                <div style="font-size: 4rem; margin-top: 30px;">‚ú®</div>
            </div>
            <div class="back decoration-page">
                <h2 style="font-family: 'Pacifico'; font-size: 2.5rem; color: #777;">Kho·∫£nh kh·∫Øc</h2>
                <p style="font-family: 'Dancing Script'; font-size: 1.8rem;">C·ªßa nh·ªØng ƒëi·ªÅu ƒë√°ng nh·ªõ</p>
            </div>
        </div>

       <!-- TRANG 3: S·ª∞ KI·ªÜN 1 -->
        <div class="page">
            <div class="front">
                <div class="pic" style="top:20px; left:20px; transform:rotate(-15deg);"><img src="img/lop3.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh1'" alt="·∫¢nh 1"></div>
                <div class="pic" style="top:30px; left:180px; transform:rotate(5deg);"><img src="img/ao2.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh2'" alt="·∫¢nh 2"></div>
                <div class="pic" style="top:20px; left:340px; transform:rotate(-10deg);"><img src="img/tthu3.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh3'" alt="·∫¢nh 3"></div>
                
                <div class="pic" style="top:230px; left:40px; transform:rotate(10deg);"><img src="img/201.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh4'" alt="·∫¢nh 4"></div>
                <div class="pic" style="top:210px; left:200px; transform:rotate(-5deg); z-index: 5;"><img src="img/204.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh5'" alt="·∫¢nh 5"></div>
                <div class="pic" style="top:230px; left:350px; transform:rotate(8deg);"><img src="img/vn5.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh6'" alt="·∫¢nh 6"></div>
                
                <div class="pic" style="top:440px; left:30px; transform:rotate(-12deg);"><img src="img/dbanh1.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh7'" alt="·∫¢nh 7"></div>
                <div class="pic" style="top:460px; left:190px; transform:rotate(5deg);"><img src="img/hc1.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh8'" alt="·∫¢nh 8"></div>
                <div class="pic" style="top:440px; left:340px; transform:rotate(15deg);"><img src="img/dc8.jpg" onerror="this.src='https://placehold.co/100x110?text=Anh9'" alt="·∫¢nh 9"></div>
            </div>
            <div class="back">
                <div class="note-container">
                    <h2 class="note-title">Nh·∫≠n L·ªõp & √Åo M·ªõi</h2>
                    <p class="note-text">Ng√†y ƒë·∫ßu ti√™n nh√¨n ai c≈©ng hi·ªÅn l√†nh, ng√¢y th∆°. Ai ng·ªù sau n√†y to√†n l√† "b√°o". √Åo m·ªõi ai c≈©ng khen ƒë·∫πp!</p>
                </div>
            </div>
        </div>

        <!-- TRANG 4: TRUNG THU -->
        <div class="page">
            <div class="front">
                 <!-- Th√™m onerror ƒë·ªÉ hi·ªán ·∫£nh thay th·∫ø n·∫øu ·∫£nh th·∫≠t b·ªã l·ªói -->
                <div class="pic" style="top:30px; left:30px; transform:rotate(10deg);"><img src="img/lop1jpg.jpg" onerror="this.src='https://placehold.co/100x110?text=AnhLop'" alt="·∫¢nh"></div>
                <div class="pic" style="top:50px; left:280px; transform:rotate(-5deg);"><img src="img/lop2.jpg" onerror="this.src='https://placehold.co/100x110?text=AnhLop2'" alt="·∫¢nh"></div>
                <div class="pic" style="top:220px; left:150px; transform:rotate(2deg); z-index:10;"><img src="img/lop3.jpg" onerror="this.src='https://placehold.co/100x110?text=AnhLop3'" alt="·∫¢nh"></div>
                <div class="pic" style="top:350px; left:20px; transform:rotate(-15deg);"><img src="img/ao1.jpg" onerror="this.src='https://placehold.co/100x110?text=Ao1'" alt="·∫¢nh"></div>
                <div class="pic" style="top:360px; left:300px; transform:rotate(12deg);"><img src="img/ao2.jpg" onerror="this.src='https://placehold.co/100x110?text=Ao2'" alt="·∫¢nh"></div>
                <div class="pic" style="top:500px; left:140px; transform:rotate(-3deg);"><img src="img/ao3.jpg" onerror="this.src='https://placehold.co/100x110?text=Ao3'" alt="·∫¢nh"></div>
            </div>
            <div class="back">
                <div class="note-container">
                    <h2 class="note-title">Trung Thu</h2>
                    <p class="note-text">L√†m ƒë∆°n gi·∫£n nh∆∞ng m√† v·∫´n "nh·∫•t". Vui l√† ch√≠nh, ph·∫ßn th∆∞·ªüng l√† ch·ªß y·∫øu!</p>
                </div>
            </div>
        </div>

        <!-- TRANG 5: ·∫¢NH TO -->
        <div class="page">
            <div class="front">
                <div class="pic big" style="top:40px; left:40px; transform:rotate(-12deg);"><img src="img/tthu1.jpg" onerror="this.src='https://placehold.co/200x180?text=TrungThu1'" alt="Trung thu"></div>
                <div class="pic big" style="top:250px; left:260px; transform:rotate(8deg);"><img src="img/tthu2.jpg" onerror="this.src='https://placehold.co/200x180?text=TrungThu2'" alt="Trung thu"></div>
                <div class="pic big" style="top:480px; left:60px; transform:rotate(-5deg);"><img src="img/tthu3.jpg" onerror="this.src='https://placehold.co/200x180?text=TrungThu3'" alt="Trung thu"></div>
            </div>
            <div class="back">
                <div class="note-container">
                    <h2 class="note-title">20/10 & 20/11</h2>
                    <p class="note-text">T·∫≠p vƒÉn ngh·ªá sai l√™n sai xu·ªëng, th·∫ø m√† l√™n s√¢n kh·∫•u l·∫°i ƒë·ªÅu tƒÉm t·∫Øp (thi tho·∫£ng c√≥ v·∫•p t√≠ x√≠u th√¥i ^^).</p>
                </div>
            </div>
        </div>

        <!-- TRANG 6: B√ìNG ƒê√Å -->
         <div class="page">
            <div class="front">
                <div class="pic" style="top:20px; left:40px; transform:rotate(-10deg);"><img src="img/201.jpg" onerror="this.src='https://placehold.co/100x110?text=VN1'" alt="·∫¢nh"></div>
                <div class="pic" style="top:40px; left:260px; transform:rotate(8deg);"><img src="img/202.jpg" onerror="this.src='https://placehold.co/100x110?text=VN2'" alt="·∫¢nh"></div>
                <div class="pic" style="top:200px; left:150px; transform:rotate(-3deg);"><img src="img/203.jpg" onerror="this.src='https://placehold.co/100x110?text=VN3'" alt="·∫¢nh"></div>
                <div class="pic" style="top:350px; left:20px; transform:rotate(12deg);"><img src="img/vn1.jpg" onerror="this.src='https://placehold.co/100x110?text=VN4'" alt="·∫¢nh"></div>
                <div class="pic" style="top:380px; left:280px; transform:rotate(-15deg);"><img src="img/204.jpg" onerror="this.src='https://placehold.co/100x110?text=VN5'" alt="·∫¢nh"></div>
                <div class="pic" style="top:520px; left:140px; transform:rotate(5deg);"><img src="img/vn3.jpg" onerror="this.src='https://placehold.co/100x110?text=VN6'" alt="·∫¢nh"></div>
            </div>
            <div class="back">
                <div class="note-container">
                    <h2 class="note-title">B√≥ng ƒê√°</h2>
                    <p class="note-text">ƒê·ªôi c·ªï v≈© c√≤n sung h∆°n c·∫£ c·∫ßu th·ªß! Huy ch∆∞∆°ng ƒë·∫ßy m√¨nh (d√π l√† huy ch∆∞∆°ng tinh th·∫ßn).</p>
                </div>
            </div>
        </div>

        <!-- TRANG 7: SINH NH·∫¨T C√î -->
        <div class="page">
            <div class="front">
                <h3 style="position: absolute; bottom: 15px; right: 20px; font-family: 'Dancing Script'; font-size: 1.5rem; color: #ff4081;">We Love You ‚ù§Ô∏è</h3>
                <div class="pic" style="top:30px; left:30px; transform:rotate(8deg);"><img src="img/snhat1.jpg" onerror="this.src='https://placehold.co/100x110?text=SN1'" alt="·∫¢nh"></div>
                <div class="pic" style="top:40px; left:290px; transform:rotate(-6deg);"><img src="img/snhat.jpg" onerror="this.src='https://placehold.co/100x110?text=SN2'" alt="·∫¢nh"></div>
                <div class="pic big" style="top:200px; left:140px; transform:rotate(2deg); z-index: 10;"><img src="img/snhat 2.jpg" onerror="this.src='https://placehold.co/200x180?text=CoGiao'" alt="C√¥ v√† L·ªõp"></div>
                <div class="pic" style="top:450px; left:50px; transform:rotate(-10deg);"><img src="img/snhat3.jpg" onerror="this.src='https://placehold.co/100x110?text=SN3'" alt="·∫¢nh"></div>
                <div class="pic" style="top:460px; left:300px; transform:rotate(12deg);"><img src="img/snhat4.jpg" onerror="this.src='https://placehold.co/100x110?text=SN4'" alt="·∫¢nh"></div>
            </div>

            <div class="back cover">
                <h1 style="font-family: 'Pacifico'; font-size: 3.5rem;">The End</h1>
                <p style="padding: 0 20px; font-size: 1.1rem; margin-top: 10px;">
                    D·ª´ng l·∫°i kh√¥ng ph·∫£i k·∫øt th√∫c.<br>
                    N√≥ ch·ªâ m·ªü ra m·ªôt h√†nh tr√¨nh m·ªõi r·ª±c r·ª° h∆°n!
                </p>
            </div>
        </div>
    </div>
</div>

<script>
    /* --- X·ª¨ L√ù NH·∫†C --- */
    const music = document.getElementById('bg-music');
    const musicBtn = document.getElementById('musicBtn');
    let isPlaying = false;

    function toggleMusic() {
        if (isPlaying) {
            music.pause();
            musicBtn.classList.remove('playing');
        } else {
            music.play();
            musicBtn.classList.add('playing');
        }
        isPlaying = !isPlaying;
    }

    // T·ª± ƒë·ªông ph√°t nh·∫°c khi ch·∫°m l·∫ßn ƒë·∫ßu (do tr√¨nh duy·ªát ch·∫∑n autoplay)
    window.addEventListener('click', () => {
        if (!isPlaying) {
            music.play().then(() => {
                isPlaying = true;
                musicBtn.classList.add('playing');
            }).catch(e => console.log("Ch·ªù t∆∞∆°ng t√°c ng∆∞·ªùi d√πng ƒë·ªÉ ph√°t nh·∫°c"));
        }
    }, { once: true });

    /* --- X·ª¨ L√ù L·∫¨T TRANG --- */
    const book = document.querySelector("#book");
    const pages = document.querySelectorAll(".page");
    const totalPages = pages.length;

    // S·∫Øp x·∫øp z-index ƒë·ªÉ trang ƒë·∫ßu n·∫±m tr√™n c√πng
    pages.forEach((page, index) => {
        page.style.zIndex = totalPages - index;
    });

    pages.forEach((page, index) => {
        page.addEventListener("click", function() {
            if (!this.classList.contains("flipped")) {
                // M·ªû TRANG
                this.classList.add("flipped");
                this.style.zIndex = index + 1; // ƒê·∫©y layer xu·ªëng d∆∞·ªõi khi l·∫≠t xong
                
                // Hi·ªáu ·ª©ng d·ªãch chuy·ªÉn s√°ch ƒë·ªÉ nh√¨n c√¢n ƒë·ªëi h∆°n
                if (index === 0) book.style.transform = "translateX(50%)";
                if (index === totalPages - 1) book.style.transform = "translateX(100%)";
            } else {
                // ƒê√ìNG TRANG
                this.classList.remove("flipped");
                
                // ƒê·ª£i ch√∫t ƒë·ªÉ animation xong m·ªõi ƒë·ªïi z-index l·∫°i
                setTimeout(() => {
                    this.style.zIndex = totalPages - index;
                }, 300);

                if (index === 0) book.style.transform = "translateX(0%)";
                if (index === totalPages - 1) book.style.transform = "translateX(50%)";
            }
        });
    });
</script>

</body>
</html>
